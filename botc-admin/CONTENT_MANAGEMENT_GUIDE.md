# ğŸ“ å†…å®¹ç®¡ç†ç³»ç»Ÿ - ç®¡ç†ç«¯

## âœ… å·²å®ŒæˆåŠŸèƒ½

### 1. æ•æ„Ÿè¯ç®¡ç†
### 2. ä¸¾æŠ¥ç®¡ç†

---

## ğŸ¯ ä¸€ã€æ•æ„Ÿè¯ç®¡ç†

### åŠŸèƒ½æ¦‚è¿°
ç®¡ç†ç³»ç»Ÿæ•æ„Ÿè¯åº“ï¼Œç”¨äºè¿‡æ»¤å’Œå®¡æ ¸ç”¨æˆ·å‘å¸ƒçš„å†…å®¹ã€‚

### æ•°æ®è¡¨ï¼š`botc-sensitive-words`

#### å­—æ®µè¯´æ˜
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| word | string | æ•æ„Ÿè¯ |
| type | string | ç±»å‹ï¼ˆpolitics/violence/porn/abuse/illegal/otherï¼‰ |
| level | int | çº§åˆ«ï¼ˆ1-è½»åº¦æç¤ºï¼Œ2-ä¸­åº¦å®¡æ ¸ï¼Œ3-é‡åº¦æ‹¦æˆªï¼‰ |
| status | string | çŠ¶æ€ï¼ˆenabled/disabledï¼‰ |
| replacement | string | æ›¿æ¢è¯ï¼ˆå¯é€‰ï¼‰ |
| remark | string | å¤‡æ³¨è¯´æ˜ |
| created_at | timestamp | åˆ›å»ºæ—¶é—´ |
| updated_at | timestamp | æ›´æ–°æ—¶é—´ |

### äº‘å‡½æ•°ï¼š`sensitive-words-admin`

#### åŠŸèƒ½åˆ—è¡¨
- âœ… `list` - è·å–æ•æ„Ÿè¯åˆ—è¡¨ï¼ˆæ”¯æŒæœç´¢ã€ç­›é€‰ã€åˆ†é¡µï¼‰
- âœ… `add` - æ·»åŠ æ•æ„Ÿè¯
- âœ… `edit` - ç¼–è¾‘æ•æ„Ÿè¯
- âœ… `delete` - åˆ é™¤æ•æ„Ÿè¯
- âœ… `import` - æ‰¹é‡å¯¼å…¥æ•æ„Ÿè¯
- âœ… `toggleStatus` - å¯ç”¨/ç¦ç”¨æ•æ„Ÿè¯

#### è°ƒç”¨ç¤ºä¾‹
```javascript
// è·å–åˆ—è¡¨
await uniCloud.callFunction({
  name: 'sensitive-words-admin',
  data: {
    action: 'list',
    pageNo: 1,
    pageSize: 20,
    keyword: 'æœç´¢å…³é”®è¯', // å¯é€‰
    type: 'politics', // å¯é€‰
    status: 'enabled' // å¯é€‰
  }
})

// æ·»åŠ æ•æ„Ÿè¯
await uniCloud.callFunction({
  name: 'sensitive-words-admin',
  data: {
    action: 'add',
    wordData: {
      word: 'æ•æ„Ÿè¯',
      type: 'other',
      level: 2,
      status: 'enabled',
      replacement: '***',
      remark: 'å¤‡æ³¨'
    }
  }
})

// æ‰¹é‡å¯¼å…¥
await uniCloud.callFunction({
  name: 'sensitive-words-admin',
  data: {
    action: 'import',
    words: [
      { word: 'æ•æ„Ÿè¯1', type: 'politics', level: 3 },
      { word: 'æ•æ„Ÿè¯2', type: 'violence', level: 2 }
    ]
  }
})
```

### ç®¡ç†é¡µé¢ï¼š`pages/botc/content/sensitive-words.vue`

#### é¡µé¢åŠŸèƒ½
- âœ… åˆ—è¡¨å±•ç¤ºï¼ˆè¡¨æ ¼ï¼‰
- âœ… æœç´¢åŠŸèƒ½ï¼ˆæŒ‰æ•æ„Ÿè¯æœç´¢ï¼‰
- âœ… ç­›é€‰åŠŸèƒ½ï¼ˆç±»å‹ã€çŠ¶æ€ï¼‰
- âœ… æ·»åŠ æ•æ„Ÿè¯
- âœ… ç¼–è¾‘æ•æ„Ÿè¯
- âœ… åˆ é™¤æ•æ„Ÿè¯
- âœ… å¯ç”¨/ç¦ç”¨
- âœ… æ‰¹é‡å¯¼å…¥ï¼ˆæ”¯æŒCSVæ ¼å¼ï¼‰
- âœ… åˆ†é¡µ

#### æ‰¹é‡å¯¼å…¥æ ¼å¼
```
æ ¼å¼1ï¼šæ¯è¡Œä¸€ä¸ªæ•æ„Ÿè¯
æ•æ„Ÿè¯1
æ•æ„Ÿè¯2
æ•æ„Ÿè¯3

æ ¼å¼2ï¼šCSVæ ¼å¼ï¼ˆæ•æ„Ÿè¯,ç±»å‹,çº§åˆ«,æ›¿æ¢è¯,å¤‡æ³¨ï¼‰
æ•æ„Ÿè¯1,politics,3,***,æ”¿æ²»æ•æ„Ÿ
æ•æ„Ÿè¯2,violence,2,**,æš´åŠ›è¡€è…¥
```

---

## ğŸš¨ äºŒã€ä¸¾æŠ¥ç®¡ç†

### åŠŸèƒ½æ¦‚è¿°
å¤„ç†ç”¨æˆ·ä¸¾æŠ¥çš„ä¸å½“å†…å®¹ï¼ŒåŒ…æ‹¬å¸–å­ã€è¯„è®ºã€ç”¨æˆ·ç­‰ã€‚

### æ•°æ®è¡¨ï¼š`botc-reports`

#### å­—æ®µè¯´æ˜
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| reporter_id | string | ä¸¾æŠ¥äººID |
| reporter_nickname | string | ä¸¾æŠ¥äººæ˜µç§° |
| content_type | string | å†…å®¹ç±»å‹ï¼ˆpost/comment/user/script/reviewï¼‰ |
| content_id | string | è¢«ä¸¾æŠ¥å†…å®¹ID |
| content_title | string | å†…å®¹æ ‡é¢˜/æ‘˜è¦ |
| reported_user_id | string | è¢«ä¸¾æŠ¥ç”¨æˆ·ID |
| reported_user_nickname | string | è¢«ä¸¾æŠ¥ç”¨æˆ·æ˜µç§° |
| reason | string | ä¸¾æŠ¥åŸå› ï¼ˆspam/porn/violence/politics/illegal/abuse/false/otherï¼‰ |
| description | string | è¯¦ç»†æè¿° |
| images | array | ä¸¾æŠ¥æˆªå›¾ |
| status | string | çŠ¶æ€ï¼ˆpending/processing/resolved/rejectedï¼‰ |
| handle_result | string | å¤„ç†ç»“æœï¼ˆdelete/warn/ban/ignoreï¼‰ |
| handle_remark | string | å¤„ç†å¤‡æ³¨ |
| handler_id | string | å¤„ç†äººID |
| handled_at | timestamp | å¤„ç†æ—¶é—´ |
| created_at | timestamp | ä¸¾æŠ¥æ—¶é—´ |
| updated_at | timestamp | æ›´æ–°æ—¶é—´ |

### äº‘å‡½æ•°ï¼š`reports-admin`

#### åŠŸèƒ½åˆ—è¡¨
- âœ… `list` - è·å–ä¸¾æŠ¥åˆ—è¡¨ï¼ˆæ”¯æŒç­›é€‰ã€åˆ†é¡µï¼‰
- âœ… `handle` - å¤„ç†ä¸¾æŠ¥ï¼ˆåˆ é™¤å†…å®¹/è­¦å‘Šç”¨æˆ·/å°ç¦ç”¨æˆ·/å¿½ç•¥ä¸¾æŠ¥ï¼‰
- âœ… `reject` - é©³å›ä¸¾æŠ¥
- âœ… `stats` - è·å–ç»Ÿè®¡æ•°æ®

#### è°ƒç”¨ç¤ºä¾‹
```javascript
// è·å–åˆ—è¡¨
await uniCloud.callFunction({
  name: 'reports-admin',
  data: {
    action: 'list',
    pageNo: 1,
    pageSize: 20,
    status: 'pending', // å¯é€‰
    contentType: 'post', // å¯é€‰
    reason: 'spam' // å¯é€‰
  }
})

// å¤„ç†ä¸¾æŠ¥
await uniCloud.callFunction({
  name: 'reports-admin',
  data: {
    action: 'handle',
    reportId: 'xxx',
    handleResult: 'delete', // delete/warn/ban/ignore
    handleRemark: 'å¤„ç†è¯´æ˜'
  }
})

// é©³å›ä¸¾æŠ¥
await uniCloud.callFunction({
  name: 'reports-admin',
  data: {
    action: 'reject',
    reportId: 'xxx',
    rejectRemark: 'é©³å›åŸå› '
  }
})
```

### ç®¡ç†é¡µé¢ï¼š`pages/botc/content/reports.vue`

#### é¡µé¢åŠŸèƒ½
- âœ… åˆ—è¡¨å±•ç¤ºï¼ˆè¡¨æ ¼ï¼‰
- âœ… ç»Ÿè®¡æ•°æ®ï¼ˆå¾…å¤„ç†/å¤„ç†ä¸­/å·²å¤„ç†/å·²é©³å›ï¼‰
- âœ… ç­›é€‰åŠŸèƒ½ï¼ˆçŠ¶æ€ã€å†…å®¹ç±»å‹ã€ä¸¾æŠ¥åŸå› ï¼‰
- âœ… å¤„ç†ä¸¾æŠ¥ï¼ˆåˆ é™¤å†…å®¹/è­¦å‘Š/å°ç¦/å¿½ç•¥ï¼‰
- âœ… é©³å›ä¸¾æŠ¥
- âœ… æŸ¥çœ‹è¯¦æƒ…ï¼ˆåŒ…æ‹¬ä¸¾æŠ¥æˆªå›¾ï¼‰
- âœ… åˆ†é¡µ

#### å¤„ç†æµç¨‹
```
ä¸¾æŠ¥æäº¤ï¼ˆç”¨æˆ·ç«¯ï¼‰
  â†“
å¾…å¤„ç†ï¼ˆpendingï¼‰
  â†“
ç®¡ç†å‘˜å¤„ç†
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¤„ç†ä¸¾æŠ¥    â”‚  é©³å›ä¸¾æŠ¥  â”‚
â”‚  â†“           â”‚  â†“         â”‚
â”‚ é€‰æ‹©å¤„ç†ç»“æœ â”‚ å¡«å†™åŸå›    â”‚
â”‚ â”œâ”€ åˆ é™¤å†…å®¹  â”‚ â†“          â”‚
â”‚ â”œâ”€ è­¦å‘Šç”¨æˆ·  â”‚ rejected   â”‚
â”‚ â”œâ”€ å°ç¦ç”¨æˆ·  â”‚            â”‚
â”‚ â””â”€ å¿½ç•¥ä¸¾æŠ¥  â”‚            â”‚
â”‚  â†“           â”‚            â”‚
â”‚ resolved     â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
botc-admin/
â”œâ”€â”€ uniCloud-aliyun/
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ botc-sensitive-words.schema.json  âœ… æ•æ„Ÿè¯è¡¨
â”‚   â”‚   â””â”€â”€ botc-reports.schema.json  âœ… ä¸¾æŠ¥è¡¨
â”‚   â””â”€â”€ cloudfunctions/
â”‚       â”œâ”€â”€ sensitive-words-admin/  âœ… æ•æ„Ÿè¯ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ index.js
â”‚       â”‚   â””â”€â”€ package.json
â”‚       â””â”€â”€ reports-admin/  âœ… ä¸¾æŠ¥ç®¡ç†
â”‚           â”œâ”€â”€ index.js
â”‚           â””â”€â”€ package.json
â””â”€â”€ pages/
    â””â”€â”€ botc/
        â””â”€â”€ content/
            â”œâ”€â”€ sensitive-words.vue  âœ… æ•æ„Ÿè¯ç®¡ç†é¡µé¢
            â””â”€â”€ reports.vue  âœ… ä¸¾æŠ¥ç®¡ç†é¡µé¢
```

---

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### 1. ä¸Šä¼ æ•°æ®åº“Schema
```bash
å³é”®ä»¥ä¸‹æ–‡ä»¶ â†’ ä¸Šä¼ DB Schemaï¼š
- botc-sensitive-words.schema.json
- botc-reports.schema.json
```

### 2. ä¸Šä¼ äº‘å‡½æ•°
```bash
å³é”®ä»¥ä¸‹æ–‡ä»¶å¤¹ â†’ ä¸Šä¼ éƒ¨ç½²ï¼š
- sensitive-words-admin
- reports-admin
```

### 3. æ·»åŠ èœå•ï¼ˆé€šè¿‡èœå•ç®¡ç†ï¼‰
```
æ•æ„Ÿè¯ç®¡ç†ï¼š
- èœå•IDï¼šbotc-sensitive-words
- èœå•åç§°ï¼šæ•æ„Ÿè¯ç®¡ç†
- çˆ¶çº§èœå•ï¼šè¡€æŸ“é’Ÿæ¥¼ç®¡ç†
- èœå•è·¯å¾„ï¼š/pages/botc/content/sensitive-words
- æ’åºï¼š106

ä¸¾æŠ¥ç®¡ç†ï¼š
- èœå•IDï¼šbotc-reports
- èœå•åç§°ï¼šä¸¾æŠ¥ç®¡ç†
- çˆ¶çº§èœå•ï¼šè¡€æŸ“é’Ÿæ¥¼ç®¡ç†
- èœå•è·¯å¾„ï¼š/pages/botc/content/reports
- æ’åºï¼š107
```

### 4. åˆ·æ–°ç®¡ç†åå°
```bash
æŒ‰ Ctrl + F5 å¼ºåˆ¶åˆ·æ–°
```

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### æ•æ„Ÿè¯ç®¡ç†

#### åœºæ™¯1ï¼šæ·»åŠ æ•æ„Ÿè¯
```
1. è¿›å…¥"æ•æ„Ÿè¯ç®¡ç†"
2. ç‚¹å‡»"æ·»åŠ æ•æ„Ÿè¯"
3. å¡«å†™ä¿¡æ¯ï¼š
   - æ•æ„Ÿè¯ï¼šxxx
   - ç±»å‹ï¼šæ”¿æ²»æ•æ„Ÿ
   - çº§åˆ«ï¼š3ï¼ˆé‡åº¦æ‹¦æˆªï¼‰
   - æ›¿æ¢è¯ï¼š***
   - å¤‡æ³¨ï¼šè¯´æ˜åŸå› 
4. ç‚¹å‡»"ç¡®å®š"
```

#### åœºæ™¯2ï¼šæ‰¹é‡å¯¼å…¥
```
1. ç‚¹å‡»"æ‰¹é‡å¯¼å…¥"
2. ç²˜è´´æ•æ„Ÿè¯åˆ—è¡¨ï¼š
   æ•æ„Ÿè¯1
   æ•æ„Ÿè¯2
   æ•æ„Ÿè¯3
3. ç‚¹å‡»"å¯¼å…¥"
4. ç³»ç»Ÿè‡ªåŠ¨è¿‡æ»¤é‡å¤ï¼Œæ˜¾ç¤ºå¯¼å…¥ç»“æœ
```

#### åœºæ™¯3ï¼šå¯ç”¨/ç¦ç”¨
```
1. æ‰¾åˆ°éœ€è¦ç¦ç”¨çš„æ•æ„Ÿè¯
2. ç‚¹å‡»"ç¦ç”¨"æŒ‰é’®
3. è¯¥æ•æ„Ÿè¯ä¸å†å‚ä¸è¿‡æ»¤
4. éœ€è¦æ—¶å¯é‡æ–°å¯ç”¨
```

### ä¸¾æŠ¥ç®¡ç†

#### åœºæ™¯1ï¼šå¤„ç†ä¸¾æŠ¥
```
1. è¿›å…¥"ä¸¾æŠ¥ç®¡ç†"
2. æŸ¥çœ‹å¾…å¤„ç†åˆ—è¡¨
3. ç‚¹å‡»"å¤„ç†"æŒ‰é’®
4. é€‰æ‹©å¤„ç†ç»“æœï¼š
   - åˆ é™¤å†…å®¹ï¼šè¿è§„å†…å®¹å°†è¢«åˆ é™¤
   - è­¦å‘Šç”¨æˆ·ï¼šå‘é€è­¦å‘Šé€šçŸ¥
   - å°ç¦ç”¨æˆ·ï¼šç¦ç”¨ç”¨æˆ·è´¦å·
   - å¿½ç•¥ä¸¾æŠ¥ï¼šä¸¾æŠ¥æ— æ•ˆ
5. å¡«å†™å¤„ç†å¤‡æ³¨
6. ç‚¹å‡»"ç¡®å®š"
```

#### åœºæ™¯2ï¼šé©³å›ä¸¾æŠ¥
```
1. æŸ¥çœ‹ä¸¾æŠ¥è¯¦æƒ…
2. åˆ¤æ–­ä¸¾æŠ¥ä¸æˆç«‹
3. ç‚¹å‡»"é©³å›"æŒ‰é’®
4. å¡«å†™é©³å›åŸå› 
5. ç‚¹å‡»"ç¡®å®š"
```

---

## ğŸ“Š æ•°æ®ç»Ÿè®¡

### ä¸¾æŠ¥ç»Ÿè®¡
- **å¾…å¤„ç†**ï¼šéœ€è¦ç«‹å³å¤„ç†çš„ä¸¾æŠ¥
- **å¤„ç†ä¸­**ï¼šæ­£åœ¨å¤„ç†çš„ä¸¾æŠ¥
- **å·²å¤„ç†**ï¼šå·²å®Œæˆå¤„ç†
- **å·²é©³å›**ï¼šä¸¾æŠ¥ä¸æˆç«‹

### æ•æ„Ÿè¯ç»Ÿè®¡
- **å¯ç”¨æ•°é‡**ï¼šæ­£åœ¨ä½¿ç”¨çš„æ•æ„Ÿè¯
- **ç¦ç”¨æ•°é‡**ï¼šå·²ç¦ç”¨çš„æ•æ„Ÿè¯
- **æŒ‰ç±»å‹ç»Ÿè®¡**ï¼šå„ç±»å‹æ•æ„Ÿè¯æ•°é‡

---

## ğŸ’¡ æœ€ä½³å®è·µ

### æ•æ„Ÿè¯ç®¡ç†

1. **åˆ†çº§ç®¡ç†**
   - è½»åº¦ï¼ˆ1çº§ï¼‰ï¼šæç¤ºç”¨æˆ·ï¼Œä½†å…è®¸å‘å¸ƒ
   - ä¸­åº¦ï¼ˆ2çº§ï¼‰ï¼šè¿›å…¥å®¡æ ¸é˜Ÿåˆ—ï¼Œäººå·¥å®¡æ ¸
   - é‡åº¦ï¼ˆ3çº§ï¼‰ï¼šç›´æ¥æ‹¦æˆªï¼Œç¦æ­¢å‘å¸ƒ

2. **å®šæœŸæ›´æ–°**
   - åŠæ—¶æ·»åŠ æ–°å‘ç°çš„æ•æ„Ÿè¯
   - å®šæœŸå®¡æŸ¥ç°æœ‰æ•æ„Ÿè¯çš„æœ‰æ•ˆæ€§
   - æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´çº§åˆ«

3. **åˆ†ç±»æ˜ç¡®**
   - æŒ‰ç±»å‹åˆ†ç±»ç®¡ç†
   - ä¾¿äºé’ˆå¯¹æ€§å¤„ç†
   - æé«˜å®¡æ ¸æ•ˆç‡

### ä¸¾æŠ¥ç®¡ç†

1. **åŠæ—¶å¤„ç†**
   - ä¼˜å…ˆå¤„ç†å¾…å¤„ç†ä¸¾æŠ¥
   - 24å°æ—¶å†…å“åº”
   - é‡è¦ä¸¾æŠ¥æ ‡è®°ä¼˜å…ˆçº§

2. **å…¬æ­£å¤„ç†**
   - ä»”ç»†æŸ¥çœ‹ä¸¾æŠ¥è¯¦æƒ…
   - æŸ¥çœ‹ä¸¾æŠ¥æˆªå›¾è¯æ®
   - æ ¸å®è¢«ä¸¾æŠ¥å†…å®¹
   - åšå‡ºå…¬æ­£åˆ¤æ–­

3. **è®°å½•å®Œæ•´**
   - å¡«å†™è¯¦ç»†çš„å¤„ç†å¤‡æ³¨
   - è®°å½•å¤„ç†ä¾æ®
   - ä¾¿äºåç»­è¿½æº¯

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ•æ„Ÿè¯åº“å®‰å…¨**
   - å®šæœŸå¤‡ä»½æ•æ„Ÿè¯åº“
   - æ§åˆ¶ç®¡ç†æƒé™
   - é¿å…æ•æ„Ÿè¯æ³„éœ²

2. **ä¸¾æŠ¥å¤„ç†æ…é‡**
   - åˆ é™¤å†…å®¹æ“ä½œä¸å¯é€†
   - å°ç¦ç”¨æˆ·éœ€è°¨æ…
   - ä¿ç•™å¤„ç†è®°å½•

3. **éšç§ä¿æŠ¤**
   - å¦¥å–„ä¿ç®¡ä¸¾æŠ¥ä¿¡æ¯
   - ä¸æ³„éœ²ä¸¾æŠ¥äººèº«ä»½
   - éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„

---

**âœ… å†…å®¹ç®¡ç†ç³»ç»Ÿå·²å…¨éƒ¨å®Œæˆï¼** ğŸ“âœ¨

**ä¸‹ä¸€æ­¥**ï¼š
1. ä¸Šä¼ æ•°æ®åº“Schema
2. ä¸Šä¼ äº‘å‡½æ•°
3. é€šè¿‡"èœå•ç®¡ç†"æ·»åŠ èœå•
4. åˆ·æ–°ç®¡ç†åå°æµ‹è¯•åŠŸèƒ½

