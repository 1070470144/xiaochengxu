# âœ… ç™¾ç§‘æ•°æ®åº“Schemaé…ç½®æŒ‡å—

## ğŸ› é—®é¢˜

```
é¡¹ç›®databaseç›®å½•ä¸‹ç¼ºå°‘wiki_entries.schema.json
åŠ è½½å¤±è´¥
```

## ğŸ” åŸå› 

uni-admin ç®¡ç†åå°è¦æ±‚æ¯ä¸ªæ•°æ®åº“é›†åˆéƒ½æœ‰å¯¹åº”çš„ schema.json æ–‡ä»¶ï¼Œç”¨äºï¼š
- å®šä¹‰æ•°æ®ç»“æ„
- é…ç½®æƒé™
- ç”Ÿæˆè¡¨å•
- æ•°æ®éªŒè¯

---

## âœ… å·²åˆ›å»ºçš„Schemaæ–‡ä»¶

æˆ‘å·²ç»åˆ›å»ºäº†2ä¸ªSchemaæ–‡ä»¶ï¼š

### 1. wiki_entries.schema.json
**ä½ç½®**ï¼š`botc-admin/uniCloud-aliyun/database/wiki_entries.schema.json`

**ç”¨é€”**ï¼šç™¾ç§‘è¯æ¡è¡¨çš„ç»“æ„å®šä¹‰

### 2. wiki_sync_logs.schema.json
**ä½ç½®**ï¼š`botc-admin/uniCloud-aliyun/database/wiki_sync_logs.schema.json`

**ç”¨é€”**ï¼šåŒæ­¥æ—¥å¿—è¡¨çš„ç»“æ„å®šä¹‰

---

## ğŸš€ è®©Schemaç”Ÿæ•ˆ

### æ–¹æ³•1ï¼šä¸Šä¼ Schemaåˆ°äº‘ç«¯ï¼ˆæ¨èï¼‰

```bash
åœ¨ HBuilderX ä¸­ botc-admin é¡¹ç›®ï¼š

1. æ‰¾åˆ° uniCloud-aliyun/database/wiki_entries.schema.json
2. å³é”® â†’ ä¸Šä¼ DB Schema
3. ç­‰å¾…ä¸Šä¼ å®Œæˆ

4. å†æ‰¾åˆ° wiki_sync_logs.schema.json
5. å³é”® â†’ ä¸Šä¼ DB Schema
6. ç­‰å¾…ä¸Šä¼ å®Œæˆ
```

### æ–¹æ³•2ï¼šåœ¨Webæ§åˆ¶å°ä¸Šä¼ 

```bash
1. è®¿é—® uniCloud Webæ§åˆ¶å°
2. äº‘æ•°æ®åº“ â†’ wiki_entries é›†åˆ
3. ç‚¹å‡»"DB Schema"æ ‡ç­¾
4. ç‚¹å‡»"å¯¼å…¥Schema"
5. å¤åˆ¶ wiki_entries.schema.json çš„å†…å®¹
6. ç²˜è´´å¹¶ä¿å­˜

é‡å¤æ­¥éª¤2-6ï¼Œå¤„ç† wiki_sync_logs é›†åˆ
```

---

## ğŸ¯ åˆ›å»ºæ•°æ®åº“é›†åˆï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰

å¦‚æœäº‘æ•°æ®åº“ä¸­è¿˜æ²¡æœ‰è¿™ä¸¤ä¸ªé›†åˆï¼Œéœ€è¦å…ˆåˆ›å»ºï¼š

### åœ¨ uniCloud Webæ§åˆ¶å°ï¼š

```bash
1. äº‘æ•°æ®åº“ â†’ æ–°å»ºé›†åˆ

2. é›†åˆåç§°ï¼šwiki_entries
   ç‚¹å‡»"åˆ›å»º"

3. é›†åˆåç§°ï¼šwiki_sync_logs
   ç‚¹å‡»"åˆ›å»º"

4. ç„¶åå†ä¸Šä¼ Schemaï¼ˆè§ä¸Šé¢çš„æ–¹æ³•ï¼‰
```

---

## âœ… éªŒè¯Schemaæ˜¯å¦ç”Ÿæ•ˆ

### æ£€æŸ¥æ­¥éª¤ï¼š

```bash
1. åˆ·æ–°ç®¡ç†åå°é¡µé¢
2. è¿›å…¥"ç™¾ç§‘ç®¡ç†"
3. åº”è¯¥èƒ½æ­£å¸¸æ˜¾ç¤ºï¼Œä¸å†æŠ¥é”™
```

### æˆåŠŸæ ‡å¿—ï¼š
- âœ… "ç™¾ç§‘ç®¡ç†"é¡µé¢èƒ½æ­£å¸¸æ‰“å¼€
- âœ… æ˜¾ç¤ºè¯æ¡åˆ—è¡¨ï¼ˆå¯èƒ½ä¸ºç©ºï¼Œéœ€è¦å…ˆåŒæ­¥æ•°æ®ï¼‰
- âœ… ä¸å†æç¤º"ç¼ºå°‘schema.json"

---

## ğŸ“‹ å®Œæ•´éƒ¨ç½²æ¸…å•

### ç¡®è®¤ä»¥ä¸‹éƒ½å·²å®Œæˆï¼š

**äº‘å‡½æ•°ï¼ˆbotc-adminï¼‰**ï¼š
- [ ] wiki-admin-sync-all å·²ä¸Šä¼ 
- [ ] wiki-admin-sync-single å·²ä¸Šä¼ 
- [ ] add-wiki-menu å·²ä¸Šä¼ 

**æ•°æ®åº“Schemaï¼ˆbotc-adminï¼‰**ï¼š
- [ ] wiki_entries.schema.json å·²ä¸Šä¼ 
- [ ] wiki_sync_logs.schema.json å·²ä¸Šä¼ 

**æ•°æ®åº“é›†åˆï¼ˆWebæ§åˆ¶å°ï¼‰**ï¼š
- [ ] wiki_entries é›†åˆå·²åˆ›å»º
- [ ] wiki_sync_logs é›†åˆå·²åˆ›å»º

**é¡µé¢æ–‡ä»¶ï¼ˆbotc-adminï¼‰**ï¼š
- [ ] pages/botc/wiki/sync.vue å·²åˆ›å»º
- [ ] pages/botc/wiki/list.vue å·²åˆ›å»º

**è·¯ç”±é…ç½®ï¼ˆbotc-adminï¼‰**ï¼š
- [ ] pages.json å·²æ·»åŠ è·¯ç”±

**èœå•é…ç½®ï¼ˆbotc-adminï¼‰**ï¼š
- [ ] èœå•å·²æ·»åŠ ï¼ˆæ‰‹åŠ¨æˆ–é€šè¿‡äº‘å‡½æ•°ï¼‰

---

## ğŸ¯ ç°åœ¨è¯·æ“ä½œ

### Step 1: ä¸Šä¼ Schemaæ–‡ä»¶
```bash
å³é”® wiki_entries.schema.json â†’ ä¸Šä¼ DB Schema
å³é”® wiki_sync_logs.schema.json â†’ ä¸Šä¼ DB Schema
```

### Step 2: åˆ·æ–°ç®¡ç†åå°
```bash
Ctrl + F5 å¼ºåˆ¶åˆ·æ–°
```

### Step 3: æµ‹è¯•
```bash
1. è¿›å…¥"ç™¾ç§‘ç®¡ç†" - åº”è¯¥ä¸å†æŠ¥é”™
2. è¿›å…¥"ç™¾ç§‘åŒæ­¥" - åŒæ­¥æ—¥å¿—åº”è¯¥èƒ½æ˜¾ç¤º
```

---

å®Œæˆåå‘Šè¯‰æˆ‘ç»“æœï¼ğŸš€
