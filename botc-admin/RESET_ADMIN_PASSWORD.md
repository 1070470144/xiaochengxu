# ğŸ” ç®¡ç†åå°å¯†ç é‡ç½®æŒ‡å—

## ğŸ¯ å¿˜è®°ç®¡ç†å‘˜è´¦å·å¯†ç ï¼Ÿ

æœ‰3ç§æ–¹æ³•å¯ä»¥é‡ç½®ï¼

---

## æ–¹æ³•1ï¼šé€šè¿‡äº‘æ•°æ®åº“é‡ç½®ï¼ˆæœ€ç®€å•ï¼‰âœ…

### æ­¥éª¤ï¼š

#### 1. æ‰“å¼€ uniCloud Webæ§åˆ¶å°
```
è®¿é—®ï¼šhttps://unicloud.dcloud.net.cn
ç™»å½•æ‚¨çš„è´¦å·
é€‰æ‹©äº‘æœåŠ¡ç©ºé—´
```

#### 2. è¿›å…¥äº‘æ•°æ®åº“
```
å·¦ä¾§èœå• â†’ äº‘æ•°æ®åº“
æ‰¾åˆ°é›†åˆï¼šuni-id-users
ç‚¹å‡»è¿›å…¥
```

#### 3. æŸ¥æ‰¾ç®¡ç†å‘˜è´¦å·
```
åœ¨æ•°æ®åˆ—è¡¨ä¸­æ‰¾åˆ°æ‚¨çš„ç®¡ç†å‘˜è´¦å·
ï¼ˆé€šå¸¸ç¬¬ä¸€ä¸ªåˆ›å»ºçš„ç”¨æˆ·å°±æ˜¯ç®¡ç†å‘˜ï¼‰
æˆ–è€…æ ¹æ®ç”¨æˆ·åæŸ¥æ‰¾
```

#### 4. é‡ç½®å¯†ç 
```
æ–¹å¼Aï¼šç›´æ¥ä¿®æ”¹å¯†ç å­—æ®µ
1. ç‚¹å‡»è¯¥ç”¨æˆ·è®°å½•çš„"ç¼–è¾‘"æŒ‰é’®
2. æ‰¾åˆ° password å­—æ®µ
3. åˆ é™¤åŸå¯†ç ï¼ˆå¯†æ–‡ï¼‰
4. è¾“å…¥æ–°å¯†ç çš„MD5å€¼

æ–¹å¼Bï¼šä½¿ç”¨ä¸´æ—¶å¯†ç 
1. ç‚¹å‡»"ç¼–è¾‘"
2. password å­—æ®µè¾“å…¥ï¼š
   e10adc3949ba59abbe56e057f20f883e
   ï¼ˆè¿™æ˜¯"123456"çš„MD5å€¼ï¼‰
3. ä¿å­˜
4. ç”¨è´¦å· + å¯†ç "123456"ç™»å½•
5. ç™»å½•åç«‹å³ä¿®æ”¹å¯†ç 
```

---

## æ–¹æ³•2ï¼šåˆ›å»ºæ–°çš„ç®¡ç†å‘˜è´¦å·

### æ­¥éª¤ï¼š

#### 1. åœ¨äº‘æ•°æ®åº“ä¸­
```
äº‘æ•°æ®åº“ â†’ uni-id-users é›†åˆ
ç‚¹å‡»"æ·»åŠ æ•°æ®"
```

#### 2. æ’å…¥æ–°ç®¡ç†å‘˜æ•°æ®
```json
{
  "username": "admin2",
  "password": "e10adc3949ba59abbe56e057f20f883e",
  "role": ["admin"],
  "mobile": "",
  "email": "",
  "nickname": "æ–°ç®¡ç†å‘˜",
  "status": 0,
  "register_date": 1729152000000,
  "register_ip": "127.0.0.1"
}
```

#### 3. ä¿å­˜åç™»å½•
```
è´¦å·ï¼šadmin2
å¯†ç ï¼š123456
```

---

## æ–¹æ³•3ï¼šé€šè¿‡HBuilderXé‡ç½®

### æ­¥éª¤ï¼š

#### 1. è¿è¡Œæ³¨å†Œç®¡ç†å‘˜äº‘å‡½æ•°
```
HBuilderX â†’ botc-admin é¡¹ç›®
æ‰¾åˆ°äº‘å‡½æ•°ï¼šuni-id-coï¼ˆå¦‚æœæœ‰ï¼‰
æˆ–åˆ›å»ºä¸€ä¸ªä¸´æ—¶äº‘å‡½æ•°æ¥æ³¨å†Œç®¡ç†å‘˜
```

#### 2. åˆ›å»ºä¸´æ—¶é‡ç½®äº‘å‡½æ•°

åˆ›å»ºæ–‡ä»¶ï¼š`botc-admin/uniCloud-aliyun/cloudfunctions/reset-admin/index.js`

```javascript
'use strict';

exports.main = async (event, context) => {
  const db = uniCloud.database();
  
  try {
    // æŸ¥æ‰¾ç¬¬ä¸€ä¸ªç®¡ç†å‘˜
    const res = await db.collection('uni-id-users')
      .where({
        role: db.command.in(['admin'])
      })
      .limit(1)
      .get();
    
    if (res.data && res.data.length > 0) {
      const userId = res.data[0]._id;
      
      // é‡ç½®å¯†ç ä¸º 123456
      await db.collection('uni-id-users')
        .doc(userId)
        .update({
          password: 'e10adc3949ba59abbe56e057f20f883e'
        });
      
      return {
        code: 0,
        message: 'å¯†ç å·²é‡ç½®ä¸º: 123456',
        data: {
          username: res.data[0].username
        }
      };
    } else {
      return {
        code: 404,
        message: 'æœªæ‰¾åˆ°ç®¡ç†å‘˜è´¦å·'
      };
    }
  } catch (error) {
    return {
      code: 500,
      message: 'é‡ç½®å¤±è´¥: ' + error.message
    };
  }
};
```

#### 3. è¿è¡Œäº‘å‡½æ•°
```
å³é”® reset-admin â†’ ä¸Šä¼ éƒ¨ç½²
å³é”® reset-admin â†’ è¿è¡Œ-äº‘ç«¯
æŸ¥çœ‹è¿”å›çš„ç”¨æˆ·å
ä½¿ç”¨ ç”¨æˆ·å + å¯†ç "123456" ç™»å½•
```

---

## ğŸ’¡ å¸¸ç”¨å¯†ç çš„MD5å€¼

å¦‚æœéœ€è¦è®¾ç½®å…¶ä»–å¯†ç ï¼Œä½¿ç”¨å¯¹åº”çš„MD5å€¼ï¼š

| å¯†ç  | MD5å€¼ |
|------|-------|
| 123456 | e10adc3949ba59abbe56e057f20f883e |
| admin | 21232f297a57a5a743894a0e4a801fc3 |
| 123456789 | 25f9e794323b453885f5181f1b624d0b |
| admin123 | 0192023a7bbd73250516f069df18b500 |

---

## ğŸ¯ æ¨èæ–¹æ¡ˆ

### â­ æ¨èï¼šæ–¹æ³•1ï¼ˆäº‘æ•°æ®åº“ç›´æ¥ä¿®æ”¹ï¼‰

**æœ€å¿«æœ€ç®€å•ï¼**

```bash
1. uniCloudæ§åˆ¶å°
2. äº‘æ•°æ®åº“ â†’ uni-id-users
3. æ‰¾åˆ°ç®¡ç†å‘˜è®°å½•
4. ç¼–è¾‘ password å­—æ®µ
5. è¾“å…¥ï¼še10adc3949ba59abbe56e057f20f883e
6. ä¿å­˜
7. ç”¨å¯†ç "123456"ç™»å½• âœ…
```

---

## âœ… ç™»å½•åç«‹å³ä¿®æ”¹å¯†ç 

### ä¿®æ”¹å¯†ç æ­¥éª¤ï¼š

```bash
1. ç™»å½•æˆåŠŸå
2. å³ä¸Šè§’å¤´åƒ â†’ ä¸ªäººèµ„æ–™
3. æˆ–è€…ï¼šç³»ç»Ÿç®¡ç† â†’ ç”¨æˆ·ç®¡ç† â†’ ç¼–è¾‘è‡ªå·±
4. ä¿®æ”¹å¯†ç 
5. ä¿å­˜ âœ…
```

---

## ğŸ”’ å®‰å…¨å»ºè®®

1. âœ… é‡ç½®å¯†ç åç«‹å³ä¿®æ”¹
2. âœ… ä½¿ç”¨å¼ºå¯†ç 
3. âœ… å®šæœŸæ›´æ¢å¯†ç 
4. âœ… ä¸è¦ä½¿ç”¨"123456"ä½œä¸ºæ­£å¼å¯†ç 

---

## ğŸ†˜ å¦‚æœè¿˜æ˜¯æ— æ³•ç™»å½•

### æ£€æŸ¥é¡¹ï¼š

- [ ] ç¡®è®¤è¾“å…¥çš„æ˜¯æ­£ç¡®çš„ç”¨æˆ·å
- [ ] ç¡®è®¤å¯†ç å·²åœ¨æ•°æ®åº“ä¸­æ›´æ–°
- [ ] æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- [ ] å°è¯•æ— ç—•æ¨¡å¼ç™»å½•
- [ ] æ£€æŸ¥ç”¨æˆ·çš„ status å­—æ®µæ˜¯å¦ä¸º 0ï¼ˆæ­£å¸¸ï¼‰

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœä¸Šè¿°æ–¹æ³•éƒ½ä¸è¡Œï¼Œè¯·å‘Šè¯‰æˆ‘ï¼š
1. ä½¿ç”¨äº†å“ªç§æ–¹æ³•
2. é‡åˆ°ä»€ä¹ˆé”™è¯¯
3. äº‘æ•°æ®åº“ä¸­èƒ½å¦æ‰¾åˆ° uni-id-users é›†åˆ

æˆ‘ä¼šç»§ç»­å¸®æ‚¨ï¼ğŸ”§

---

**æ–‡æ¡£åˆ›å»º**: 2025å¹´10æœˆ17æ—¥  
**æ¨èæ–¹æ¡ˆ**: æ–¹æ³•1ï¼ˆäº‘æ•°æ®åº“ç›´æ¥ä¿®æ”¹ï¼‰

