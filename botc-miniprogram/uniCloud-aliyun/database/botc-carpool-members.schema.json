{
  "bsonType": "object", 
  "description": "拼车成员表（报名记录）",
  "required": ["room_id", "user_id"],
  "properties": {
    "_id": {
      "description": "记录ID"
    },
    "room_id": {
      "bsonType": "string",
      "description": "拼车房间ID",
      "foreignKey": "botc-carpool-rooms._id",
      "errorMessage": {
        "required": "房间ID不能为空"
      }
    },
    "user_id": {
      "bsonType": "string",
      "description": "报名用户ID", 
      "foreignKey": "uni-id-users._id",
      "errorMessage": {
        "required": "用户ID不能为空"
      }
    },
    "join_type": {
      "bsonType": "int",
      "description": "加入方式：1-主动报名，2-邀请加入",
      "defaultValue": 1,
      "minimum": 1,
      "maximum": 2
    },
    "message": {
      "bsonType": "string",
      "description": "报名留言",
      "maxLength": 200
    },
    "status": {
      "bsonType": "int",
      "description": "状态：0-已退出，1-已报名，2-发起人已确认",
      "defaultValue": 1,
      "minimum": 0,
      "maximum": 2
    },
    "confirmed_at": {
      "bsonType": "timestamp",
      "description": "确认时间"
    },
    "joined_at": {
      "bsonType": "timestamp",
      "description": "报名时间",
      "forceDefaultValue": {
        "$env": "now"
      }
    },
    "created_at": {
      "bsonType": "timestamp",
      "description": "创建时间",
      "forceDefaultValue": {
        "$env": "now"
      }
    },
    "updated_at": {
      "bsonType": "timestamp",
      "description": "更新时间",
      "forceDefaultValue": {
        "$env": "now"
      }
    }
  }
}
