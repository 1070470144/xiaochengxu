# è¡€æŸ“ç™¾ç§‘åŠŸèƒ½ - éƒ¨ç½²æ£€æŸ¥æ¸…å•

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### âœ… ç¯å¢ƒæ£€æŸ¥
- [ ] HBuilderX å·²å®‰è£…ï¼ˆæ¨è3.0+ç‰ˆæœ¬ï¼‰
- [ ] å¾®ä¿¡å¼€å‘è€…å·¥å…·å·²å®‰è£…
- [ ] uniCloudäº‘æœåŠ¡ç©ºé—´å·²åˆ›å»º
- [ ] å·²ç™»å½•uniCloudè´¦å·

### âœ… ä»£ç æ£€æŸ¥
- [ ] æ‰€æœ‰äº‘å‡½æ•°æ–‡ä»¶å·²åˆ›å»º
- [ ] æ‰€æœ‰Schemaæ–‡ä»¶å·²åˆ›å»º
- [ ] å°ç¨‹åºé¡µé¢æ–‡ä»¶å·²ä¿®æ”¹/åˆ›å»º
- [ ] ä»£ç æ— è¯­æ³•é”™è¯¯

---

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šä¸Šä¼ äº‘å‡½æ•°ï¼ˆé¢„è®¡3åˆ†é’Ÿï¼‰

#### 1.1 ä¸Šä¼  wiki-parse-url
```bash
1. åœ¨ HBuilderX ä¸­å±•å¼€é¡¹ç›®
2. æ‰¾åˆ° uniCloud-aliyun/cloudfunctions/wiki-parse-url
3. å³é”® â†’ ä¸Šä¼ éƒ¨ç½²
4. ç­‰å¾…ä¸Šä¼ å®Œæˆï¼ˆé¦–æ¬¡ä¼šå®‰è£…cheerioä¾èµ–ï¼Œéœ€1-2åˆ†é’Ÿï¼‰
5. çœ‹åˆ°"ä¸Šä¼ æˆåŠŸ"æç¤º
```
- [ ] wiki-parse-url ä¸Šä¼ æˆåŠŸ

#### 1.2 ä¸Šä¼  wiki-search
```bash
1. å³é”® wiki-search
2. é€‰æ‹©"ä¸Šä¼ éƒ¨ç½²"
3. ç­‰å¾…ä¸Šä¼ å®Œæˆ
```
- [ ] wiki-search ä¸Šä¼ æˆåŠŸ

#### 1.3 ä¸Šä¼  wiki-detail
```bash
1. å³é”® wiki-detail
2. é€‰æ‹©"ä¸Šä¼ éƒ¨ç½²"
3. ç­‰å¾…ä¸Šä¼ å®Œæˆ
```
- [ ] wiki-detail ä¸Šä¼ æˆåŠŸ

#### 1.4 éªŒè¯äº‘å‡½æ•°
```bash
1. æ‰“å¼€ uniCloud Webæ§åˆ¶å°
2. è¿›å…¥"äº‘å‡½æ•°"
3. ç¡®è®¤3ä¸ªäº‘å‡½æ•°éƒ½æ˜¾ç¤º"å·²éƒ¨ç½²"çŠ¶æ€
4. æŸ¥çœ‹éƒ¨ç½²æ—¶é—´æ˜¯å¦ä¸ºåˆšæ‰
```
- [ ] 3ä¸ªäº‘å‡½æ•°å…¨éƒ¨éƒ¨ç½²æˆåŠŸ

---

### ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ•°æ®åº“é›†åˆï¼ˆé¢„è®¡5åˆ†é’Ÿï¼‰

#### 2.1 åˆ›å»º wiki_entries é›†åˆ
```bash
1. æ‰“å¼€ uniCloud Webæ§åˆ¶å°
2. ç‚¹å‡»"äº‘æ•°æ®åº“"
3. ç‚¹å‡»"æ–°å»ºé›†åˆ"
4. é›†åˆåç§°è¾“å…¥ï¼šwiki_entries
5. ç‚¹å‡»"ç¡®å®š"åˆ›å»º
```
- [ ] wiki_entries é›†åˆå·²åˆ›å»º

#### 2.2 å¯¼å…¥ wiki_entries Schema
```bash
1. ç‚¹å‡»åˆšåˆ›å»ºçš„ wiki_entries é›†åˆ
2. ç‚¹å‡»"DB Schema"æ ‡ç­¾
3. ç‚¹å‡»"å¯¼å…¥Schema"æŒ‰é’®
4. æ‰“å¼€æ–‡ä»¶ï¼šuniCloud-aliyun/database/wiki_entries.schema.json
5. å¤åˆ¶æ‰€æœ‰å†…å®¹
6. ç²˜è´´åˆ°Schemaç¼–è¾‘å™¨
7. ç‚¹å‡»"ä¿å­˜"
```
- [ ] wiki_entries Schema å·²å¯¼å…¥

#### 2.3 åˆ›å»º wiki_favorites é›†åˆ
```bash
é‡å¤æ­¥éª¤2.1-2.2
é›†åˆåï¼šwiki_favorites
Schemaï¼šwiki_favorites.schema.json
```
- [ ] wiki_favorites é›†åˆå·²åˆ›å»º
- [ ] wiki_favorites Schema å·²å¯¼å…¥

#### 2.4 åˆ›å»º wiki_search_history é›†åˆ
```bash
é‡å¤æ­¥éª¤2.1-2.2
é›†åˆåï¼šwiki_search_history
Schemaï¼šwiki_search_history.schema.json
```
- [ ] wiki_search_history é›†åˆå·²åˆ›å»º
- [ ] wiki_search_history Schema å·²å¯¼å…¥

#### 2.5 é…ç½®æ•°æ®åº“æƒé™
```bash
1. åœ¨æ¯ä¸ªé›†åˆä¸­ç‚¹å‡»"æƒé™"æ ‡ç­¾
2. è®¾ç½®è¯»å†™æƒé™ï¼š
   - .read: true
   - .create: auth.uid != null
   - .update: false
   - .delete: false
3. ç‚¹å‡»"ä¿å­˜"
```
- [ ] wiki_entries æƒé™å·²é…ç½®
- [ ] wiki_favorites æƒé™å·²é…ç½®
- [ ] wiki_search_history æƒé™å·²é…ç½®

---

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®å°ç¨‹åºï¼ˆé¢„è®¡2åˆ†é’Ÿï¼‰

#### 3.1 æ£€æŸ¥pages.jsoné…ç½®
```bash
1. æ‰“å¼€ pages.json
2. ç¡®è®¤åŒ…å«ä»¥ä¸‹è·¯ç”±ï¼š
   - pages/tools/wiki/wiki
   - pages/tools/wiki/detail (æ–°å¢)
3. å¦‚æœæ²¡æœ‰detailè·¯ç”±ï¼Œæ·»åŠ ï¼š
```

```json
{
  "path": "pages/tools/wiki/detail",
  "style": {
    "navigationBarTitleText": "ç™¾ç§‘è¯¦æƒ…",
    "enablePullDownRefresh": false
  }
}
```
- [ ] pages.json å·²é…ç½®

#### 3.2 æ£€æŸ¥uni_modules
```bash
ç¡®è®¤é¡¹ç›®ä¸­å·²å®‰è£… uni-popup ç»„ä»¶
å¦‚æœæ²¡æœ‰ï¼Œåœ¨ HBuilderX ä¸­ï¼š
1. å³é”® uni_modules
2. é€‰æ‹©"ä»æ’ä»¶å¸‚åœºå¯¼å…¥"
3. æœç´¢"uni-popup"
4. ç‚¹å‡»å¯¼å…¥
```
- [ ] uni-popup ç»„ä»¶å·²å®‰è£…

---

### ç¬¬å››æ­¥ï¼šè¿è¡Œæµ‹è¯•ï¼ˆé¢„è®¡5åˆ†é’Ÿï¼‰

#### 4.1 è¿è¡Œå°ç¨‹åº
```bash
1. åœ¨ HBuilderX ä¸­ç‚¹å‡»"è¿è¡Œ" â†’ "è¿è¡Œåˆ°å°ç¨‹åºæ¨¡æ‹Ÿå™¨"
2. å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¼šè‡ªåŠ¨æ‰“å¼€
3. ç­‰å¾…ç¼–è¯‘å®Œæˆ
```
- [ ] å°ç¨‹åºè¿è¡ŒæˆåŠŸ

#### 4.2 æµ‹è¯•å¯¼å…¥åŠŸèƒ½
```bash
1. åœ¨å°ç¨‹åºä¸­ç‚¹å‡»ï¼šå·¥å…· â†’ è¡€æŸ“ç™¾ç§‘
2. ç‚¹å‡»"å¯¼å…¥ç™¾ç§‘é“¾æ¥"
3. å¤åˆ¶æµ‹è¯•URLï¼š
   https://clocktower-wiki.gstonegames.com/index.php?title=æ´—è¡£å¦‡
4. ç‚¹å‡»"ç²˜è´´"æŒ‰é’®
5. ç‚¹å‡»"å¼€å§‹å¯¼å…¥"
6. ç­‰å¾…3-5ç§’
7. æŸ¥çœ‹æ˜¯å¦è·³è½¬åˆ°è¯¦æƒ…é¡µ
8. éªŒè¯å†…å®¹æ˜¯å¦å®Œæ•´
```
- [ ] å¯¼å…¥åŠŸèƒ½æ­£å¸¸
- [ ] è¯¦æƒ…é¡µæ˜¾ç¤ºæ­£å¸¸
- [ ] å†…å®¹è§£ææ­£ç¡®

#### 4.3 æµ‹è¯•ç¼“å­˜åŠŸèƒ½
```bash
1. è¿”å›ç™¾ç§‘ä¸»é¡µ
2. å†æ¬¡å¯¼å…¥åŒä¸€ä¸ªURL
3. è§‚å¯Ÿæ˜¯å¦æç¤º"å·²åŠ è½½"
4. éªŒè¯åŠ è½½é€Ÿåº¦æ˜¯å¦<1ç§’
```
- [ ] ç¼“å­˜åŠŸèƒ½æ­£å¸¸

#### 4.4 æµ‹è¯•æœç´¢åŠŸèƒ½
```bash
1. åœ¨æœç´¢æ¡†è¾“å…¥"æ´—è¡£å¦‡"
2. æŒ‰å›è½¦
3. éªŒè¯æ˜¯å¦æ‰¾åˆ°ç»“æœ
4. éªŒè¯æ˜¯å¦è·³è½¬åˆ°è¯¦æƒ…é¡µ
```
- [ ] æœç´¢åŠŸèƒ½æ­£å¸¸

#### 4.5 æµ‹è¯•æ”¶è—åŠŸèƒ½
```bash
1. åœ¨è¯¦æƒ…é¡µç‚¹å‡»"æ”¶è—"æŒ‰é’®
2. éªŒè¯æ˜¯å¦æç¤º"æ”¶è—æˆåŠŸ"
3. è¿”å›ä¸»é¡µå†è¿›å…¥è¯¦æƒ…
4. éªŒè¯æ”¶è—çŠ¶æ€æ˜¯å¦ä¿æŒ
5. ç‚¹å‡»"å·²æ”¶è—"å–æ¶ˆæ”¶è—
6. éªŒè¯æ˜¯å¦æç¤º"å·²å–æ¶ˆæ”¶è—"
```
- [ ] æ”¶è—åŠŸèƒ½æ­£å¸¸

#### 4.6 æµ‹è¯•å…¶ä»–åŠŸèƒ½
```bash
æµ‹è¯•ä»¥ä¸‹åŠŸèƒ½ï¼š
- å›¾ç‰‡é¢„è§ˆ
- ç›¸å…³é“¾æ¥å¯¼å…¥
- æŸ¥çœ‹åŸæ–‡ï¼ˆå¤åˆ¶é“¾æ¥ï¼‰
- æœ€è¿‘å¯¼å…¥åˆ—è¡¨
```
- [ ] å›¾ç‰‡é¢„è§ˆæ­£å¸¸
- [ ] ç›¸å…³é“¾æ¥åŠŸèƒ½æ­£å¸¸
- [ ] å¤åˆ¶é“¾æ¥åŠŸèƒ½æ­£å¸¸
- [ ] æœ€è¿‘å¯¼å…¥æ˜¾ç¤ºæ­£å¸¸

---

## ğŸ› é—®é¢˜æ’æŸ¥

### é—®é¢˜1ï¼šäº‘å‡½æ•°ä¸Šä¼ å¤±è´¥
**æ£€æŸ¥é¡¹ï¼š**
- [ ] ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
- [ ] uniCloudè´¦å·æ˜¯å¦ç™»å½•
- [ ] äº‘æœåŠ¡ç©ºé—´æ˜¯å¦é€‰æ‹©æ­£ç¡®
- [ ] package.json æ ¼å¼æ˜¯å¦æ­£ç¡®

**è§£å†³æ–¹æ¡ˆï¼š**
1. æ£€æŸ¥ç½‘ç»œ
2. é‡æ–°ç™»å½•uniCloud
3. åˆ‡æ¢äº‘æœåŠ¡ç©ºé—´
4. æ£€æŸ¥ä»£ç è¯­æ³•

---

### é—®é¢˜2ï¼šå¯¼å…¥æ—¶æç¤º"ç½‘é¡µåŠ è½½å¤±è´¥"
**æ£€æŸ¥é¡¹ï¼š**
- [ ] URLæ˜¯å¦æ­£ç¡®
- [ ] ç½‘ç»œæ˜¯å¦æ­£å¸¸
- [ ] äº‘å‡½æ•°æ˜¯å¦å·²éƒ¨ç½²
- [ ] äº‘å‡½æ•°æ—¥å¿—æ˜¯å¦æœ‰é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
1. åœ¨æµè§ˆå™¨éªŒè¯URLå¯è®¿é—®
2. æ£€æŸ¥äº‘å‡½æ•°éƒ¨ç½²çŠ¶æ€
3. æŸ¥çœ‹äº‘å‡½æ•°æ—¥å¿—
4. å¢åŠ äº‘å‡½æ•°è¶…æ—¶æ—¶é—´

---

### é—®é¢˜3ï¼šè¯¦æƒ…é¡µæ˜¾ç¤ºç©ºç™½
**æ£€æŸ¥é¡¹ï¼š**
- [ ] entry_id æ˜¯å¦æ­£ç¡®ä¼ é€’
- [ ] æ•°æ®åº“é›†åˆæ˜¯å¦åˆ›å»º
- [ ] æ•°æ®åº“æƒé™æ˜¯å¦é…ç½®
- [ ] äº‘å‡½æ•°è¿”å›æ•°æ®æ˜¯å¦æ­£ç¡®

**è§£å†³æ–¹æ¡ˆï¼š**
1. æ£€æŸ¥URLå‚æ•°
2. ç¡®è®¤æ•°æ®åº“é›†åˆå­˜åœ¨
3. æ£€æŸ¥æ•°æ®åº“æƒé™
4. æŸ¥çœ‹äº‘å‡½æ•°è¿”å›æ•°æ®

---

### é—®é¢˜4ï¼šæœç´¢æ— ç»“æœ
**æ£€æŸ¥é¡¹ï¼š**
- [ ] æ˜¯å¦å·²å¯¼å…¥ç›¸å…³è¯æ¡
- [ ] æœç´¢å…³é”®è¯æ˜¯å¦æ­£ç¡®
- [ ] æ•°æ®åº“æŸ¥è¯¢æ˜¯å¦æ­£å¸¸

**è§£å†³æ–¹æ¡ˆï¼š**
1. å…ˆå¯¼å…¥ä¸€äº›è¯æ¡
2. ä½¿ç”¨å‡†ç¡®çš„å…³é”®è¯
3. æŸ¥çœ‹äº‘å‡½æ•°æ—¥å¿—

---

## ğŸ“Š æ€§èƒ½éªŒè¯

### æ€§èƒ½æŒ‡æ ‡æ£€æŸ¥
```bash
ä½¿ç”¨ç§’è¡¨è®°å½•ä»¥ä¸‹æ“ä½œæ—¶é—´ï¼š

1. é¦–æ¬¡å¯¼å…¥URLï¼š____ç§’ï¼ˆç›®æ ‡<5ç§’ï¼‰
2. ç¼“å­˜è¯»å–ï¼š____ç§’ï¼ˆç›®æ ‡<1ç§’ï¼‰
3. æœç´¢æŸ¥è¯¢ï¼š____ç§’ï¼ˆç›®æ ‡<2ç§’ï¼‰
4. è¯¦æƒ…é¡µåŠ è½½ï¼š____ç§’ï¼ˆç›®æ ‡<1ç§’ï¼‰
```

- [ ] æ‰€æœ‰æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡

---

## ğŸ“ˆ æ•°æ®éªŒè¯

### æ•°æ®åº“æ£€æŸ¥
```bash
1. æ‰“å¼€ uniCloud Webæ§åˆ¶å°
2. è¿›å…¥"äº‘æ•°æ®åº“"
3. æŸ¥çœ‹ wiki_entries é›†åˆ
4. ç¡®è®¤å·²æœ‰æµ‹è¯•æ•°æ®
```
- [ ] æ•°æ®æˆåŠŸä¿å­˜åˆ°æ•°æ®åº“

### ç¼“å­˜éªŒè¯
```bash
1. å¯¼å…¥åŒä¸€ä¸ªURLä¸¤æ¬¡
2. ç¬¬äºŒæ¬¡åº”æ˜¾ç¤º"æ¥è‡ªç¼“å­˜"
3. æ£€æŸ¥ cache_expires_at å­—æ®µ
```
- [ ] ç¼“å­˜æœºåˆ¶æ­£å¸¸å·¥ä½œ

---

## ğŸ¯ ä¸Šçº¿å‰æœ€ç»ˆæ£€æŸ¥

### åŠŸèƒ½å®Œæ•´æ€§
- [ ] URLå¯¼å…¥åŠŸèƒ½æ­£å¸¸
- [ ] æœç´¢åŠŸèƒ½æ­£å¸¸
- [ ] è¯¦æƒ…å±•ç¤ºæ­£å¸¸
- [ ] æ”¶è—åŠŸèƒ½æ­£å¸¸
- [ ] å›¾ç‰‡é¢„è§ˆæ­£å¸¸
- [ ] ç›¸å…³æ¨èæ­£å¸¸

### ç”¨æˆ·ä½“éªŒ
- [ ] åŠ è½½æç¤ºå‹å¥½
- [ ] é”™è¯¯æç¤ºæ¸…æ™°
- [ ] æ“ä½œæµç¨‹é¡ºç•…
- [ ] UIç¾è§‚å¤§æ–¹
- [ ] æ— æ˜æ˜¾å¡é¡¿

### ç¨³å®šæ€§
- [ ] æ— å´©æºƒ
- [ ] æ— å†…å­˜æ³„æ¼
- [ ] é”™è¯¯æ¢å¤æ­£å¸¸
- [ ] è¾¹ç•Œæƒ…å†µå¤„ç†å®Œå–„

### æ–‡æ¡£å®Œæ•´æ€§
- [ ] ä½¿ç”¨æ–‡æ¡£é½å…¨
- [ ] éƒ¨ç½²æ–‡æ¡£æ¸…æ™°
- [ ] æµ‹è¯•ç”¨ä¾‹å®Œæ•´
- [ ] ä»£ç æ³¨é‡Šå……åˆ†

---

## ğŸ‰ éƒ¨ç½²å®Œæˆç¡®è®¤

å½“æ‰€æœ‰æ£€æŸ¥é¡¹éƒ½æ‰“å‹¾âœ…åï¼Œè¯´æ˜éƒ¨ç½²æˆåŠŸï¼

### æˆåŠŸæ ‡å¿—
- âœ… äº‘å‡½æ•°å…¨éƒ¨éƒ¨ç½²
- âœ… æ•°æ®åº“é›†åˆå…¨éƒ¨åˆ›å»º
- âœ… å°ç¨‹åºè¿è¡Œæ­£å¸¸
- âœ… åŠŸèƒ½æµ‹è¯•é€šè¿‡
- âœ… æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡

### ä¸‹ä¸€æ­¥
1. é‚€è¯·ç”¨æˆ·è¯•ç”¨
2. æ”¶é›†ä½¿ç”¨åé¦ˆ
3. æŒç»­ä¼˜åŒ–æ”¹è¿›
4. å‡†å¤‡æ­£å¼å‘å¸ƒ

---

## ğŸ“ è·å–å¸®åŠ©

### é‡åˆ°é—®é¢˜ï¼Ÿ
1. æŸ¥çœ‹ [QUICK_START.md](./pages/tools/wiki/QUICK_START.md)
2. æŸ¥çœ‹ [DEPLOYMENT_GUIDE.md](./pages/tools/wiki/DEPLOYMENT_GUIDE.md)
3. æŸ¥çœ‹äº‘å‡½æ•°æ—¥å¿—
4. æ£€æŸ¥æ•°æ®åº“é…ç½®

### æŠ€æœ¯æ”¯æŒ
- ğŸ“– å®Œæ•´æ–‡æ¡£ï¼š`pages/tools/wiki/`
- ğŸ§ª æµ‹è¯•ç”¨ä¾‹ï¼š`pages/tools/wiki/TEST_CASES.md`
- ğŸ“Š åŠŸèƒ½æ€»ç»“ï¼š`WIKI_FEATURE_SUMMARY.md`

---

**æ£€æŸ¥æ¸…å•ç‰ˆæœ¬**: v1.0.0  
**åˆ›å»ºæ—¶é—´**: 2025å¹´10æœˆ17æ—¥  
**é€‚ç”¨ç‰ˆæœ¬**: è¡€æŸ“ç™¾ç§‘åŠŸèƒ½ v1.0.0

